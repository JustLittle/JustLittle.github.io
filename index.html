<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="LY.Qiao" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="è¿™ä¸–ç•Œè¦æ˜¯æ²¡æœ‰çˆ±æƒ…ï¼Œå®ƒåœ¨æˆ‘ä»¬å¿ƒä¸­è¿˜ä¼šæœ‰ä»€ä¹ˆæ„ä¹‰ï¼è¿™å°±å¦‚ä¸€ç›æ²¡æœ‰äº®å…‰çš„èµ°é©¬ç¯ã€‚">
<meta property="og:type" content="website">
<meta property="og:title" content="LY.Qiao">
<meta property="og:url" content="http://liangyouqiao.me/index.html">
<meta property="og:site_name" content="LY.Qiao">
<meta property="og:description" content="è¿™ä¸–ç•Œè¦æ˜¯æ²¡æœ‰çˆ±æƒ…ï¼Œå®ƒåœ¨æˆ‘ä»¬å¿ƒä¸­è¿˜ä¼šæœ‰ä»€ä¹ˆæ„ä¹‰ï¼è¿™å°±å¦‚ä¸€ç›æ²¡æœ‰äº®å…‰çš„èµ°é©¬ç¯ã€‚">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LY.Qiao">
<meta name="twitter:description" content="è¿™ä¸–ç•Œè¦æ˜¯æ²¡æœ‰çˆ±æƒ…ï¼Œå®ƒåœ¨æˆ‘ä»¬å¿ƒä¸­è¿˜ä¼šæœ‰ä»€ä¹ˆæ„ä¹‰ï¼è¿™å°±å¦‚ä¸€ç›æ²¡æœ‰äº®å…‰çš„èµ°é©¬ç¯ã€‚">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"hide"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'åšä¸»'
    }
  };
</script>




  <link rel="canonical" href="http://liangyouqiao.me/"/>

  <title> LY.Qiao </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">LY.Qiao</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Goals determine what you are going to be</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tag"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/03/Pythonå†…å­˜ç®¡ç†/" itemprop="url">
                  pythonè¯­è¨€ç‰¹æ€§ï¼ï¼ï¼å†…å­˜ç®¡ç†
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-08-03T00:00:00+08:00" content="2016-08-03">
              2016-08-03
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/pythonåº•å±‚/" itemprop="url" rel="index">
                    <span itemprop="name">pythonåº•å±‚</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="pythonè¯­è¨€ç‰¹æ€§å†…å­˜ç®¡ç†"><a href="#pythonè¯­è¨€ç‰¹æ€§å†…å­˜ç®¡ç†" class="headerlink" title="pythonè¯­è¨€ç‰¹æ€§å†…å­˜ç®¡ç†"></a>pythonè¯­è¨€ç‰¹æ€§å†…å­˜ç®¡ç†</h1><h2 id="å¼€å§‹äºPythonçš„å‡½æ•°å‚æ•°ä¼ é€’"><a href="#å¼€å§‹äºPythonçš„å‡½æ•°å‚æ•°ä¼ é€’" class="headerlink" title="å¼€å§‹äºPythonçš„å‡½æ•°å‚æ•°ä¼ é€’"></a>å¼€å§‹äºPythonçš„å‡½æ•°å‚æ•°ä¼ é€’</h2><p>pythonåœ¨ä¼ é€’çš„æ—¶å€™ä¼ é€’éƒ½æ˜¯å¯¹è±¡çš„å¼•ç”¨</p>
<p>å¯¹è±¡ ï¼ ï¼ˆå¯å˜å¯¹è±¡ï¼Œä¸å¯å˜çš„å¯¹è±¡ï¼‰</p>
<p>å¯å˜å¯¹è±¡ ï¼ ï¼ˆlistï¼Œdictï¼‰ç­‰<br>ä¸å¯å˜å¯¹è±¡ ï¼ ï¼ˆstringï¼Œtupleï¼Œnumberï¼‰ç­‰</p>
<p>å½“å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°çš„æ—¶å€™ï¼š</p>
<p><strong>è¿™å—éœ€è¦ç‰¹åˆ«æ³¨æ„</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">åˆ›å»ºä¸€ä¸ª<span class="number">1</span>çš„å¯¹è±¡å¼•ç”¨ï¼Œæ‰€ä»¥è¯´aæ˜¯ä¸€ä¸ªå¼•ç”¨</div><div class="line">a = <span class="number">20</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(a)</span>:</span></div><div class="line">    a= <span class="number">10</span>(è¿™ä¸ª<span class="number">2</span>å®é™…ä¸Šå·²ç»æ˜¯ä¸€ä¸ªæ–°çš„å¯¹è±¡äº†)</div><div class="line"></div><div class="line">æ ¹æ®å‡½æ•°çš„ä½œç”¨åŸŸåï¼Œåœ¨å‡½æ•°å†…éƒ¨çš„ä¿®æ”¹ä¸å¯å˜å¯¹è±¡çš„å¼•ç”¨çš„æ—¶å€™ï¼Œå¯¹æœ¬èº«å¯¹è±¡å¤–éƒ¨çš„å¼•ç”¨æ˜¯æ²¡æœ‰å½±å“çš„</div><div class="line">ä½†æ˜¯å¦‚æœå¤–éƒ¨çš„å¯¹è±¡æ˜¯ä¸€ä¸ªå¯ä¿®æ”¹çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå‡½æ•°å†…éƒ¨åœ¨ä¿®æ”¹è¿™ä¸ªå¯¹è±¡å¼•ç”¨çš„æ—¶å€™ï¼Œå¤–éƒ¨å¯¹è±¡çš„å¼•ç”¨ä¹Ÿä¼šéšä¹‹è¢«ä¿®æ”¹</div><div class="line"></div><div class="line">æ‰€ä»¥,åœ¨å¯¹è±¡ä¸å¯å˜çš„æ—¶å€™ï¼š</div><div class="line">   åœ¨å†…éƒ¨pirnt id(a)</div><div class="line">   å’Œåœ¨å¤–éƒ¨<span class="keyword">print</span> id(a)</div><div class="line">   è¿™ä¸¤ä¸ªæ˜¯ä¸ä¸€æ ·çš„å€¼</div></pre></td></tr></table></figure>
<blockquote>
<p>ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§ç°è±¡å‘¢ï¼Ÿpythonæ˜¯å¦‚ä½•è¿›è¡Œå†…å­˜ç®¡ç†çš„å‘¢ï¼Ÿ</p>
</blockquote>
<h2 id="pythonå¦‚ä½•ç®¡ç†å†…å­˜çš„"><a href="#pythonå¦‚ä½•ç®¡ç†å†…å­˜çš„" class="headerlink" title="pythonå¦‚ä½•ç®¡ç†å†…å­˜çš„"></a>pythonå¦‚ä½•ç®¡ç†å†…å­˜çš„</h2><p>ä»æœºåˆ¶ä¸Šè¯´åˆ†ä¸º3ä¸ªéƒ¨åˆ†ï¼š</p>
<pre><code>1.    å¼•ç”¨è®¡æ•°
2.    åƒåœ¾å›æ”¶
3.    å†…å­˜æ± æœºåˆ¶
</code></pre><h2 id="é‚£ä»€ä¹ˆæ˜¯pythonçš„å¯¹è±¡å¼•ç”¨å‘¢ï¼Ÿå¼•ç”¨è®¡æ•°åˆæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#é‚£ä»€ä¹ˆæ˜¯pythonçš„å¯¹è±¡å¼•ç”¨å‘¢ï¼Ÿå¼•ç”¨è®¡æ•°åˆæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="é‚£ä»€ä¹ˆæ˜¯pythonçš„å¯¹è±¡å¼•ç”¨å‘¢ï¼Ÿå¼•ç”¨è®¡æ•°åˆæ˜¯ä»€ä¹ˆï¼Ÿ"></a>é‚£ä»€ä¹ˆæ˜¯pythonçš„å¯¹è±¡å¼•ç”¨å‘¢ï¼Ÿå¼•ç”¨è®¡æ•°åˆæ˜¯ä»€ä¹ˆï¼Ÿ</h2><h3 id="å…³äºå¼•ç”¨"><a href="#å…³äºå¼•ç”¨" class="headerlink" title="å…³äºå¼•ç”¨"></a>å…³äºå¼•ç”¨</h3><p>å…³äº<strong>å¼•ç”¨</strong>ï¼Œä¸ªäººè§‰çš„å°±åƒæ˜¯ä¸€ä¸ªè½¯é“¾æ¥çš„æ¦‚å¿µï¼ŒæŒ‡å‘çš„å†…å­˜åœ°å€æ˜¯ç›¸åŒçš„</p>
<p>å¦‚ä½•æŸ¥çœ‹æ˜¯å¦ä¸ºåŒä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨å¯ä»¥ä½¿ç”¨id()</p>
<p>åœ¨Pythonä¸­ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰å­˜æœ‰æŒ‡å‘è¯¥å¯¹è±¡çš„å¼•ç”¨æ€»æ•°ï¼Œå³å¼•ç”¨è®¡æ•°(reference count)ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨sysåŒ…ä¸­çš„getrefcount()ï¼Œæ¥æŸ¥çœ‹æŸä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨æŸä¸ªå¼•ç”¨ä½œä¸ºå‚æ•°ï¼Œä¼ é€’ç»™getrefcount()æ—¶ï¼Œå‚æ•°å®é™…ä¸Šåˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶çš„å¼•ç”¨ã€‚å› æ­¤ï¼Œgetrefcount()æ‰€å¾—åˆ°çš„ç»“æœï¼Œä¼šæ¯”æœŸæœ›çš„å¤š1ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">In [34]: from sys import getrefcount</div><div class="line"></div><div class="line">In [35]: a = [1, 2, 3]</div><div class="line"></div><div class="line">In [36]: print(getrefcount(a))</div><div class="line">2</div><div class="line"></div><div class="line">In [37]:</div><div class="line"></div><div class="line">In [37]: b = a</div><div class="line"></div><div class="line">In [38]: print(getrefcount(b))</div><div class="line">3</div><div class="line"></div><div class="line">In [39]:</div></pre></td></tr></table></figure>
<p>æ‰€ä»¥ç¬¬ä¸€æ¬¡ä½¿ç”¨getrefcount(a)ï¼Œå¾—åˆ°çš„å¼•ç”¨è®¡æ•°ä¸º2</p>
<p>Pythonçš„ä¸€ä¸ªå®¹å™¨å¯¹è±¡(container)ï¼Œæ¯”å¦‚è¡¨ã€è¯å…¸ç­‰ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªå¯¹è±¡ã€‚å®é™…ä¸Šï¼Œå®¹å™¨å¯¹è±¡ä¸­åŒ…å«çš„å¹¶ä¸æ˜¯å…ƒç´ å¯¹è±¡æœ¬èº«ï¼Œæ˜¯æŒ‡å‘å„ä¸ªå…ƒç´ å¯¹è±¡çš„å¼•ç”¨</p>
<p>åœ¨å®¹å™¨çš„å†…éƒ¨è°ƒç”¨å¦ä¸€ä¸ªå¯¹è±¡å¼•ç”¨çš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªå¯¹è±¡å¼•ç”¨è®¡æ•°ä¼šï¼‹1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">In [24]: a = [1, 2, 3]</div><div class="line"></div><div class="line">In [25]: print(getrefcount(a))</div><div class="line">2</div><div class="line"></div><div class="line">In [26]: b = [a, a]</div><div class="line"></div><div class="line">In [27]: print(getrefcount(a))</div><div class="line">4</div></pre></td></tr></table></figure>
<h3 id="å¼•ç”¨å‡å°‘"><a href="#å¼•ç”¨å‡å°‘" class="headerlink" title="å¼•ç”¨å‡å°‘"></a>å¼•ç”¨å‡å°‘</h3><p>æŸä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°å¯èƒ½å‡å°‘ã€‚æ¯”å¦‚ï¼Œå¯ä»¥ä½¿ç”¨delå…³é”®å­—åˆ é™¤æŸä¸ªå¼•ç”¨:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">2</span>]: a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line">In [<span class="number">3</span>]: b = a</div><div class="line">In [<span class="number">4</span>]: print(getrefcount(b))</div><div class="line"><span class="number">3</span></div><div class="line">In [<span class="number">5</span>]:</div><div class="line">In [<span class="number">5</span>]: <span class="keyword">del</span> a</div><div class="line">In [<span class="number">6</span>]: print(getrefcount(b))</div><div class="line"><span class="number">2</span></div><div class="line">In [<span class="number">7</span>]:</div></pre></td></tr></table></figure>
<p>å¦‚æœæŸä¸ªå¼•ç”¨æŒ‡å‘å¯¹è±¡Aï¼Œå½“è¿™ä¸ªå¼•ç”¨è¢«é‡æ–°å®šå‘åˆ°æŸä¸ªå…¶ä»–å¯¹è±¡Bæ—¶ï¼Œå¯¹è±¡Açš„å¼•ç”¨è®¡æ•°å‡å°‘:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">19</span>]: b = <span class="string">"abc"</span></div><div class="line">In [<span class="number">20</span>]: print(getrefcount(<span class="string">"abc"</span>))</div><div class="line"><span class="number">13</span></div><div class="line">In [<span class="number">21</span>]: b = <span class="string">"abcd"</span></div><div class="line">In [<span class="number">22</span>]: print(getrefcount(<span class="string">"abc"</span>))</div><div class="line"><span class="number">12</span></div><div class="line">In [<span class="number">23</span>]:</div></pre></td></tr></table></figure>
<h2 id="åƒåœ¾å›æ”¶"><a href="#åƒåœ¾å›æ”¶" class="headerlink" title="åƒåœ¾å›æ”¶"></a>åƒåœ¾å›æ”¶</h2><p>å½“Pythonä¸­çš„å¯¹è±¡è¶Šæ¥è¶Šå¤šï¼Œå®ƒä»¬å°†å æ®è¶Šæ¥è¶Šå¤§çš„å†…å­˜ï¼Œä»–å°±ä¼šå¯åŠ¨åƒåœ¾å›æ”¶(garbage collection)</p>
<p>æ¯”å¦‚æŸä¸ªæ–°å»ºå¯¹è±¡ï¼Œå®ƒè¢«åˆ†é…ç»™æŸä¸ªå¼•ç”¨ï¼Œå¯¹è±¡çš„å¼•ç”¨è®¡æ•°å˜ä¸º1ã€‚å¦‚æœå¼•ç”¨è¢«åˆ é™¤ï¼Œå¯¹è±¡çš„å¼•ç”¨è®¡æ•°ä¸º0ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡å°±å¯ä»¥è¢«åƒåœ¾å›æ”¶ã€‚æ¯”å¦‚ä¸‹é¢çš„è¡¨:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line"><span class="keyword">del</span> a</div></pre></td></tr></table></figure>
<h2 id="å†…å­˜æ± ç®¡ç†"><a href="#å†…å­˜æ± ç®¡ç†" class="headerlink" title="å†…å­˜æ± ç®¡ç†"></a>å†…å­˜æ± ç®¡ç†</h2><p>å†…å­˜æ± ç®¡ç†æœºåˆ¶ï¼Œä¸»è¦åŒ…æ‹¬å†…å­˜æ± ä»¥åŠå¯¹è±¡ç¼“å­˜æ± </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/01/leetcode-æ ‡è®°æ¯”å¯¹/" itemprop="url">
                  pythonç®—æ³•--leetcodeç»ƒä¹ é¢˜(æ ‡è®°æ¯”å¯¹)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-08-01T00:00:00+08:00" content="2016-08-01">
              2016-08-01
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/pythonç®—æ³•/" itemprop="url" rel="index">
                    <span itemprop="name">pythonç®—æ³•</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="è¿™æ˜¯ä¸€ä¸ªleetcodeä¸Šé¢çš„ç®—æ³•é¢˜ï¼Œè®°å½•è¿™é‡Œï¼Œç®—æ˜¯è®°å½•äº†"><a href="#è¿™æ˜¯ä¸€ä¸ªleetcodeä¸Šé¢çš„ç®—æ³•é¢˜ï¼Œè®°å½•è¿™é‡Œï¼Œç®—æ˜¯è®°å½•äº†" class="headerlink" title="è¿™æ˜¯ä¸€ä¸ªleetcodeä¸Šé¢çš„ç®—æ³•é¢˜ï¼Œè®°å½•è¿™é‡Œï¼Œç®—æ˜¯è®°å½•äº†"></a>è¿™æ˜¯ä¸€ä¸ªleetcodeä¸Šé¢çš„ç®—æ³•é¢˜ï¼Œè®°å½•è¿™é‡Œï¼Œç®—æ˜¯è®°å½•äº†</h2><blockquote>
<p>ä¸‹é¢æ˜¯é¢˜ç›®</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">Given a pattern and a string str, find if str follows the same pattern.</div><div class="line"></div><div class="line">Here follow means a full match, such that there is a bijection between a letter in pattern and a non-empty word in str.</div><div class="line"></div><div class="line">Examples:</div><div class="line">    pattern = &quot;abba&quot;, str = &quot;dog cat cat dog&quot; should return true.</div><div class="line">    pattern = &quot;abba&quot;, str = &quot;dog cat cat fish&quot; should return false.</div><div class="line">    pattern = &quot;aaaa&quot;, str = &quot;dog cat cat dog&quot; should return false.</div><div class="line">    pattern = &quot;abba&quot;, str = &quot;dog dog dog dog&quot; should return false.</div><div class="line">    Notes:</div><div class="line">        You may assume pattern contains only lowercase letters, and str contains lowercase letters separated by a single space.</div><div class="line"></div><div class="line">        Credits:</div><div class="line">            Special thanks to @minglotus6 for adding this problem and creating all test cases.</div></pre></td></tr></table></figure>
<h2 id="ä»–è¯´çš„æ˜¯ä»€ä¹ˆ"><a href="#ä»–è¯´çš„æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä»–è¯´çš„æ˜¯ä»€ä¹ˆ"></a>ä»–è¯´çš„æ˜¯ä»€ä¹ˆ</h2><p>è¿™ä¸ªæ˜¯ä¸€ä¸ªç®€å•çš„å­—ç¬¦å’ŒliståŒ¹é…é—®é¢˜ï¼ŒæœŸæœ›å­—ç¬¦ä¸²çš„åˆ†å¸ƒä¸liståˆ†å¸ƒç›¸åŒ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">#encoding: utf-8</span></div><div class="line"><span class="string">'''</span></div><div class="line">Created Time: ä¸€  8/ 1 18:31:07 2016</div><div class="line">mail: liangyou.qiao@shuyun.com</div><div class="line">Author: liangyou.qiao</div><div class="line">File Name: wordPattern.py'</div><div class="line">'''</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">wordPattern</span><span class="params">(pattern, str)</span>:</span></div><div class="line"></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type pattern: str</div><div class="line">        :type str: str</div><div class="line">        :rtype: bool</div><div class="line">        """</div><div class="line">        pattern_list = list(pattern)</div><div class="line">        str_list = str.split()</div><div class="line">        <span class="function"><span class="keyword">def</span> <span class="title">label</span><span class="params">(lis)</span>:</span></div><div class="line">            <span class="string">"""</span></div><div class="line">            :type lis: list</div><div class="line">            rtype: insert_lis:list</div><div class="line">            """</div><div class="line">            dic = &#123;&#125;</div><div class="line">            insert_lis = []</div><div class="line">            n = <span class="number">0</span></div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> lis:</div><div class="line">                <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> dic:</div><div class="line">                    dic[i] = n</div><div class="line">                    n +=<span class="number">1</span></div><div class="line">                    insert_lis.append(dic[i])</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    insert_lis.append(dic[i])</div><div class="line">            <span class="keyword">return</span> insert_lis</div><div class="line">        <span class="keyword">return</span> label(pattern_list) == label(str_list)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">    a = <span class="string">"aaba"</span></div><div class="line">    b = <span class="string">"dog cat cat fish"</span></div><div class="line">    wordPattern(a,b)</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/01/pythonå°å·¥å…·â€“æ— èŠç­‰å¾…æ—‹è½¬ç¬¦/" itemprop="url">
                  pythonå°å·¥å…·ï¼ï¼ï¼æ—‹è½¬çš„ç­‰å¾…ç¬¦
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-08-01T00:00:00+08:00" content="2016-08-01">
              2016-08-01
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/pythonå°å·¥å…·/" itemprop="url" rel="index">
                    <span itemprop="name">pythonå°å·¥å…·</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>pythonå°å·¥å…·â€“æ— èŠç­‰å¾…æ—‹è½¬ç¬¦</p>
</blockquote>
<p>æœ‰æ—¶å€™åœ¨ç­‰å¾…äº¤äº’çš„æ—¶å€™å¾ˆæ— èŠï¼Œå°±æäº†ä¸€ä¸ªå°ç¬¦å·ï¼Œåªéœ€è¦ç»™å‡½æ•°åŠ ä¸Šè¿™ä¸ªdecoè£…é¥°å™¨å³å¯ï¼Œåšç‚¹å°è®°å½•</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"># -*-coding: utf-8-*-</div><div class="line">'''</div><div class="line">Created Time: äºŒ  7/26 09:26:56 2016</div><div class="line">mail: liangyou.qiao@shuyun.com</div><div class="line">Author: liangyou.qiao</div><div class="line">File Name: funny.py</div><div class="line">'''</div><div class="line">import sys</div><div class="line">import time</div><div class="line">spinners = '''|/-\\'''</div><div class="line"></div><div class="line">spinpos = 0</div><div class="line"></div><div class="line"></div><div class="line">def fwrite(buf):</div><div class="line">    sys.stdout.write(buf)</div><div class="line">    sys.stdout.flush()</div><div class="line"></div><div class="line">def spin():</div><div class="line">    global spinpos</div><div class="line">    fwrite(spinners[spinpos]+"\b")</div><div class="line">    spinpos += 1</div><div class="line">    if spinpos &gt;= len(spinners):</div><div class="line">        spinpos = 0</div><div class="line"></div><div class="line">def funny()</div><div class="line">    while 1:</div><div class="line">        spin()</div></pre></td></tr></table></figure>
<blockquote>
<p>ä½¿ç”¨è£…é¥°å™¨</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> functools</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco</span><span class="params">(func)</span>:</span></div><div class="line">	</div><div class="line"><span class="meta">	@functools.wraps(func)</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*a,**kw)</span>:</span></div><div class="line">		<span class="keyword">print</span> <span class="string">"è¿›å…¥ç­‰å¾…"</span></div><div class="line">		spin()</div><div class="line">		result = func(*a,**kw)</div><div class="line">		<span class="keyword">return</span> result</div><div class="line">	<span class="keyword">return</span> wrapper</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/27/pythonå°å™-yieldå„ç§ç©æ³•/" itemprop="url">
                  pythonå°å™-yieldå„ç§ç©æ³•
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-07-27T16:40:00+08:00" content="2016-07-27">
              2016-07-27
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>å…³äºæ€è€ƒ</p>
</blockquote>
<p>å‰æ®µæ—¶é—´åˆšç”¨å®ŒscrapyåˆšæŠ“å®Œè±†ç“£å’Œ12306ï¼Œå‘ç°yieldåœ¨scrapyä¸­è¢«å¤§é‡çš„å¼•ç”¨ï¼Œå±‚å±‚é€’è¿›éƒ½æ˜¯ä¾é yieldä½œä¸ºè¿”å›ã€‚ä½œä¸ºå°ç™½çš„æˆ‘ä¹‹å‰æ˜¯ä¸ä¼šç©yieldè¿™ä¸ªé«˜å¤§ä¸Šçš„ä¸œè¥¿ï¼Œå¥½å§ï¼Œæ˜¯æˆ‘å¤ªèœäº†ï¼Œä¸»è¦æ˜¯æ— æ³•è”æƒ³åˆ°ä»€ä¹ˆåº”ç”¨åœºæ™¯ğŸ˜¢ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse</span><span class="params">(self,response)</span>:</span></div><div class="line">      <span class="keyword">for</span> href <span class="keyword">in</span> response.css(<span class="string">".l_title a::attr(href)"</span>):</div><div class="line">           full_url = response.urljoin(href.extract())</div><div class="line">           <span class="keyword">yield</span> scrapy.Request(full_url,callback=self.parse_question)</div></pre></td></tr></table></figure>
<p>åœ¨scrapyä¸­yieldè¢«ç”¨æ¥è¿”å›ä¸‹ä¸€å±‚çš„callbackï¼Œä¸å¾—ä¸è¯´scrapyåœ¨è¿™é‡Œä½¿ç”¨yieldçš„æ–¹æ³•çœŸæ˜¯nbï¼Œå½“çˆ¬è™«çš„æ·±åº¦åŠ å¤§çš„æ—¶å€™ï¼Œyieldä½œç”¨ä¼šå‡¸æ˜¾çš„å¾ˆæ˜æ˜¾ï¼Œæƒ³è±¡ä¸€ä¸‹</p>
<blockquote>
<p>æœ‰ä¸€ä¸ªnå±‚çš„å¾ªç¯ï¼Œå¦‚æœä½ æƒ³è¦çœ‹æœ€åä¸€å±‚nçš„è¿ç®—ç»“æœï¼Œå¯ä»¥å‘€ï¼Œé‚£å°±æ˜¯ç”¨n-1å±‚forå‘—ï¼ˆå½“ç„¶æˆ‘é‡Œä¸è€ƒè™‘åˆç†çš„æ•°æ®ç»“æ„æ¥é™ä½ç¨‹åºçš„å¤æ‚åº¦ï¼‰ï¼Œ</p>
</blockquote>
<p>å½“è¿è¡Œåˆ°n-2å±‚çš„æ—¶å€™ï¼Œå§æ§½ï¼Œå‡ºé—®é¢˜äº†ï¼Œé‚£æ€ä¹ˆåŠï¼ï¼è°ƒè¯•å®Œéœ€è¦ç­‰nï¼3å¾ªç¯å®Œã€‚ã€‚ä»€ä¹ˆé¬¼,æ•°æ®é‡ä¸€å¤§ï¼Œç®€ç›´äº†ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å¯ä»¥çœ‹åˆ°ç»“æœ</p>
<p>å¦‚æœæ¯ä¸€å±‚éƒ½ç”¨yieldæ¥è¿”å›ï¼Œnå±‚æœ‰nä¸ªyieldï¼Œé‚£ä¹ˆåªè¦ä¸€æ¬¡ä½ å°±å¯ä»¥çœ‹åˆ°nå±‚çš„å¾ªç¯ä¸­çš„ç»“æœï¼Œå“ˆå“ˆï¼Œçœ‹äº†å¾ˆå±Œ,ä¸‹é¢æ¥ä¸ªç±»ä¼¼çš„demoï¼ŒåŒæ ·æ˜¯å¾ªç¯ï¼Œç”¨yieldå®ç°å‡ºæ¥æ˜¯å¦ä¸€ç§æ„Ÿè§‰æœ‰æœ¨æœ‰</p>
<blockquote>
<p>è®©æˆ‘ä»¬æ¥ä¸€ä¸ªä¾‹å­ï¼Œæ±‚lis = [[â€œabcddsadasdasdaâ€,â€asdqwdqwdasdasdaâ€],[â€œzxczxczxâ€,â€vfdsvsdvsdâ€],[â€œasdascascsdcscscdsdcâ€],[â€œascdsfsdfcascdaâ€]]è¿™ä¸ªlistç§æ‰€æœ‰açš„ä½ç½®</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line">encoding: utf<span class="number">-8</span></div><div class="line"><span class="string">'''</span></div><div class="line">Created Time: ä¸‰  7/27 08:23:01 2016</div><div class="line">mail: liangyou.qiao@shuyun.com</div><div class="line">Author: liangyou.qiao</div><div class="line">File Name: yield_old.py</div><div class="line">'''</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_index</span><span class="params">(input_data)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">send_back</span><span class="params">(func)</span>:</span></div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*a,**kwd)</span>:</span></div><div class="line">            g = func(*a,**kwd)</div><div class="line">            g.send(<span class="keyword">None</span>)</div><div class="line">            <span class="keyword">return</span> g</div><div class="line"></div><div class="line">        <span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"><span class="meta">    @send_back</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sign</span><span class="params">(target)</span>:</span></div><div class="line"></div><div class="line">        <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">            words = <span class="keyword">yield</span></div><div class="line">            <span class="keyword">for</span> w <span class="keyword">in</span> words:</div><div class="line">                print(<span class="string">"i am in callback_1 %s"</span>%w)</div><div class="line">                target.send(w)</div><div class="line">            <span class="comment">#target.send(None)</span></div><div class="line"></div><div class="line"><span class="meta">    @send_back</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sort</span><span class="params">(target)</span>:</span></div><div class="line">        <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">            word = <span class="keyword">yield</span></div><div class="line"></div><div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> word:</div><div class="line">                print(<span class="string">"i am in callback_2 %s"</span>%i)</div><div class="line">                target.send(i)</div><div class="line"><span class="meta">    @send_back</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">squash</span><span class="params">(label)</span>:</span></div><div class="line">        <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">            word_list = <span class="keyword">yield</span></div><div class="line">            lis = list(word_list)</div><div class="line">            str_word = [ (i,label) <span class="keyword">for</span> i <span class="keyword">in</span> xrange(len(lis)) <span class="keyword">if</span> lis[i] == label ]</div><div class="line">            <span class="keyword">print</span> <span class="string">"i am callback 3"</span>,str_word</div><div class="line">            <span class="comment">#for x in word_list:</span></div><div class="line">            <span class="comment">#    print("i am in callback_3 %s"%x)</span></div><div class="line"></div><div class="line">    <span class="keyword">print</span> input_data</div><div class="line">    sign(sort(squash(<span class="string">"a"</span>))).send(input_data)</div><div class="line">    <span class="keyword">return</span></div><div class="line"></div><div class="line">   </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line"></div><div class="line">    lis = [[<span class="string">"abcddsadasdasda"</span>,<span class="string">"asdqwdqwdasdasda"</span>],[<span class="string">"zxczxczx"</span>,<span class="string">"vfdsvsdvsd"</span>],[<span class="string">"asdascascsdcscscdsdc"</span>],[<span class="string">"ascdsfsdfcascda"</span>]]</div><div class="line"></div><div class="line">    result = find_index(lis)</div></pre></td></tr></table></figure>
<blockquote>
<p>ä½¿ç”¨yieldæ˜¯å®ç°ç”Ÿäº§è€…æ¶ˆè´¹è€…çš„å¤šå¹¶å‘</p>
</blockquote>
<p>ä½¿ç”¨yieldå°±å¯ä»¥è®©å‡½æ•°å˜æˆä¸€ä¸ªç”Ÿæˆå™¨ï¼Œé‚£ä¹ˆæ ¹æ®è¿™ä¸€ç‚¹ï¼Œå°±å¯ä»¥å®ç°ä¸€ç§ç±»ä¼¼ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹çš„æ–¹æ³•,å¤šä¸ªconsumeræ‰§è¡ŒåŒä¸€ä¸ªç”Ÿæˆå™¨çš„å®ä¾‹,ç”¨next()æ–¹æ³•è·å–æ•°æ®,ç»ˆäºåœ¨åŒäº‹çš„å¤§åŠ›å¸®å¿™ä¹‹ä¸‹ï¼Œå†™å‡ºäº†è¿™ä¸ªdemoï¼Œ</p>
<blockquote>
<p>åªéœ€è¦æŠŠå¾ªç¯ä½“è½¬åŒ–æˆç”Ÿæˆå™¨ï¼Œåœ¨ä¸ä½¿ç”¨queueçš„æƒ…å†µä¸‹ï¼Œå®ç°äº†p/cçš„æ¨¡å‹</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="string">'''</span></div><div class="line">File Name: muti.py</div><div class="line">Author: WillDX</div><div class="line">mail: xiang.dai@shuyun.com</div><div class="line">Created Time: 2016å¹´07æœˆ19æ—¥ æ˜ŸæœŸäºŒ 11æ—¶02åˆ†21ç§’</div><div class="line">i'''</div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">import</span> time</div><div class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> *</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Consumer</span><span class="params">(Thread)</span>:</span></div><div class="line">    <span class="string">"""ç»§æ‰¿Threadæ–¹æ³•,å¹¶é‡å†™__init__()æ–¹æ³•å’Œrun()æ–¹æ³•"""</span></div><div class="line">    __produce = <span class="keyword">None</span></div><div class="line">    __func = <span class="keyword">None</span></div><div class="line">    __results = []</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, group=None, target=None, name=None,args=<span class="params">()</span>, kwargs=None, verbose=None)</span>:</span></div><div class="line">        super(Consumer, self).__init__(group, target, name, args, kwargs, verbose)</div><div class="line">        self.__args = args</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            <span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">                params = Consumer.__produce.next()</div><div class="line">                <span class="comment">#print "params:",params,type(params)</span></div><div class="line">                obj = Consumer()</div><div class="line">                res = obj.__func(**params)</div><div class="line">                Consumer.__results.extend(res)</div><div class="line">                <span class="comment">#print "[çº¿ç¨‹å]:%s;[å‚æ•°]:%s;[è¿”å›å€¼]:%s"%(currentThread().name,params,res)</span></div><div class="line">        <span class="keyword">except</span> ValueError <span class="keyword">as</span> e:</div><div class="line">            <span class="keyword">print</span> e</div><div class="line">        <span class="keyword">except</span> StopIteration <span class="keyword">as</span> e:</div><div class="line">            <span class="comment">#print "finished:%s" % currentThread().name</span></div><div class="line">            <span class="keyword">print</span> e</div><div class="line"></div><div class="line"><span class="meta">    @classmethod</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_produce</span><span class="params">(cls,produce)</span>:</span></div><div class="line">        cls.__produce=produce</div><div class="line">        <span class="keyword">return</span> cls()</div><div class="line"></div><div class="line"><span class="meta">    @classmethod</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_func</span><span class="params">(cls,func)</span>:</span></div><div class="line">        cls.__func = staticmethod(func)</div><div class="line"></div><div class="line"><span class="meta">    @classmethod</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_result</span><span class="params">(cls)</span>:</span></div><div class="line">        <span class="keyword">return</span> cls.__results</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(i)</span>:</span></div><div class="line">    <span class="keyword">return</span> [i + <span class="number">10000</span>]</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    produce = ( &#123;<span class="string">"i"</span>:i&#125; <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">30</span>))</div><div class="line">    <span class="comment">#æ‰§è¡Œ</span></div><div class="line">    mp = ( Consumer() <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>))</div><div class="line">    Consumer.add_produce(produce)</div><div class="line">    Consumer.set_func(func)</div><div class="line">    tsk = []</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> mp:</div><div class="line">        i.start()</div><div class="line">        tsk.append(i)</div><div class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> tsk:</div><div class="line">        t.join()</div><div class="line">    res = Consumer.get_result()</div><div class="line">    <span class="keyword">print</span> res,len(res)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">    main()</div></pre></td></tr></table></figure>
<blockquote>
<p>å…³äºé—®é¢˜</p>
</blockquote>
<pre><code>1.    å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œyieldï¼Œyieldæ˜¯å¦æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ
2.    åœ¨ä½¿ç”¨sendç»™yieldå‘é€æ•°æ®çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆç¬¬ä¸€æ¬¡è¦ä¼ é€None
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/28/github/" itemprop="url">
                  Git ä½¿ç”¨æ–‡æ¡£
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-06-28T15:40:00+08:00" content="2016-06-28">
              2016-06-28
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/å·¥å…·ä½¿ç”¨/" itemprop="url" rel="index">
                    <span itemprop="name">å·¥å…·ä½¿ç”¨</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>gitçš„å®¶ç›®å½•åœ¨å½“å‰ç”¨æˆ·å®¶ç›®å½•:.git/</p>
<blockquote>
<p>GITä½¿ç”¨ä»‹ç»</p>
</blockquote>
<p>1.git help -a<br>    æŸ¥è¯¢å‡ºgitä¸‹é¢çš„åŠŸèƒ½ä»‹ç»<br>    1.1.git help +func(æŸ¥è¯¢è¯¦ç»†åŠŸèƒ½ä½¿ç”¨)</p>
<p>2.git â€“version<br>    æŸ¥è¯¢å‡ºgitå½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬</p>
<p>3.git config â€“global user.name â€œliangyou.qiaoâ€<br>    è®¾ç½®ç”¨æˆ·å</p>
<p>4.git config â€“global user.email â€œxx@qq.comâ€<br>    è®¾ç½®ç”¨æˆ·é‚®ç®±</p>
<p>5.git config â€“list<br>    è®¾ç½®å½“å‰git config globalè®¾ç½®çš„å…¨å±€ä¿¡æ¯<br>    éƒ½ä¼šå†™åˆ°.gitconfigçš„æ–‡ä»¶ä¸­</p>
<blockquote>
<p>GITé¡¹ç›®åˆå§‹åŒ–</p>
</blockquote>
<p>1.git init<br>    åˆå§‹åŒ–gitå®¶ç›®å½•ï¼Œåœ¨å½“å‰ç›®å½•åˆ›å»º.git/</p>
<p>2.git add + [ filename ]<br>    æ·»åŠ ç›®å½•åˆ°gitçš„æš‚å­˜åŒº</p>
<p>3.git status<br>    æäº¤ç›®å‰gitçš„æ–‡ä»¶çŠ¶æ€ï¼Œæ˜¯å¦æœ‰æ–°çš„ä»£ç æäº¤ï¼Œæˆ–æ˜¯åˆ é™¤</p>
<pre><code>ä¼šæ˜¾ç¤ºæ˜¯å¦æœ‰æ–‡ä»¶ä¿®æ”¹
</code></pre><p>4.git commit -m [æ·»åŠ å¤‡æ³¨å†…å®¹]<br>    æäº¤object å¯¹è±¡å­˜å‚¨åŒº</p>
<pre><code>åˆ†æ”¯ä¸­åªå­˜å‚¨äº†æ–‡ä»¶çš„ç›®å½•ç»“æ„ï¼Œæ–‡ä»¶å­˜å‚¨åœ¨å¯¹è±¡å­˜å‚¨åŒºä¸­
</code></pre><p>5.git rm filename</p>
<pre><code>åˆ é™¤æš‚å­˜åŒºçš„æ•°æ®
åˆ é™¤æ—¶å€™éœ€è¦é€šè¿‡ï¼š
git commit -m &quot;delete&quot;è¿›è¡Œå¤‡æ³¨

git rm filename --cache
åˆ é™¤æš‚å­˜åŒºçš„æ•°æ®ï¼Œä¸åˆ é™¤æºæ•°æ®

git rm -f filename 
æºæ•°æ®ä¹Ÿä¼šåˆ é™¤    
</code></pre><p>6.git mv</p>
<pre><code>å¯¹æš‚å­˜åŒºçš„æ–‡ä»¶åè¿›è¡Œä¿®æ”¹
</code></pre><p>7.git checkout </p>
<pre><code>å›æ»šæ“ä½œ
</code></pre><p>8.git revert</p>
<pre><code>å›å½’ä¸Šä¸€æ¬¡çš„æäº¤çºªå½•    
å¦‚ä½•æŒ‡å®šå›æ’¤éƒ½å“ªä¸€ä¸ªç‰ˆæœ¬å‘¢ï¼Ÿ
    git çš„ç‰ˆæœ¬ç®¡ç†

    0    99d65a9 delete test
    1    0dc596e æ·»åŠ ç¬¬ä¸€ä¸ªä½œä¸šï¼ŒçŒœæ•°å­—
    2    9dd2bf9 for the other project
    3    6adb33f first commit


    git revert HEAD è¡¨ç¤ºå›é€€ä¸Šä¸€ä¸ªç‰ˆæœ¬,å°±æ˜¯ç‰ˆæœ¬0        

    git revert HEAD^ ä¸€ä¸ª^è¡¨ç¤ºå›é€€ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„ä¸Šä¸€ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯ç‰ˆæœ¬1

    git revert HEAD~10 è¡¨ç¤ºå›é€€10ä¸ªç‰ˆæœ¬ä¹‹å‰çš„ç‰ˆæœ¬ 
</code></pre><p>9.git log â€“oneline<br>    æ˜¾ç¤ºgitçš„æ›´æ–°æ—¥å¿—ï¼Œä¼šæ˜¾ç¤ºå‡ºï¼Œä¹‹å‰æäº¤çºªå½•çš„id</p>
<p>10.git reset </p>
<pre><code>git reset HEAD^ æŒ‡å®š1ç‰ˆçš„æäº¤æ“ä½œï¼Œå¹¶æŠŠè¿™ä¸ªæ“ä½œæ’¤å›


git reset HEAD^ --hardæŒ‡å®šç¡¬é‡ç½®ï¼Œä¸å»ºè®®ä½¿ç”¨

git reset HEAD^ --mixed
</code></pre><blockquote>
<p>GITçš„åˆ†æ”¯</p>
</blockquote>
<p>git diff master..dev</p>
<p>git branch  æŸ¥çœ‹å½“å‰çš„åˆ†æ”¯ä½¿ç”¨çš„æƒ…å†µ</p>
<p>git branch [branchname]<br>    ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯</p>
<p>git checkout [branchname] åˆ‡æ¢åˆ†æ”¯</p>
<p>git merge ç”¨æ¥åˆå¹¶devåˆ†æ”¯åˆ°masteråˆ†æ”¯ä¸­å»</p>
<pre><code>å¦‚æœåœ¨git mergeæäº¤çš„æ—¶å€™ï¼Œä¸¤ä¸ªåˆ†æ”¯ä¸­ç›¸åŒçš„æ–‡ä»¶ï¼Œä½†æ˜¯åšäº†ä¸åŒçš„ä¿®æ”¹å°±ä¸èƒ½ç›´æ¥æäº¤ï¼Œéœ€è¦æ¶ˆé™¤å†²çª

åªè¦æŠŠä¸€ä¸ªåˆ†æ”¯ä¸­çš„å†…å®¹ï¼Œä¿®æ”¹æˆå¦ä¸€ä¸ªçš„å°±ä¼šï¼Œå°±ä¼šæ¶ˆé™¤å†²çª

-no-ff -m &quot;é…ç½®å†…å®¹&quot; ï¼šç¦ç”¨å¿«é€Ÿåˆå¹¶ï¼Œéœ€è¦æ·»åŠ å¤‡æ³¨
</code></pre><p>git merge -m old.name new.name<br>    åˆ†æ”¯çš„åˆå¹¶</p>
<p>å°å­˜branchåˆ†æ”¯<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">git stash ä¼šå°å­˜å½“å‰åˆ†æ”¯çš„æ‰€æœ‰ä¿®æ”¹å†…å®¹</div><div class="line"></div><div class="line">git stash pop ä¼šè¿˜åŸå°å­˜çš„å†…å®¹</div><div class="line"></div><div class="line">git stash list å°å­˜çš„åˆ—è¡¨ä¿¡æ¯</div><div class="line"></div><div class="line">git stash apply stash@&#123;id&#125;</div><div class="line"></div><div class="line">git branch -b feature æ–°ç‰¹æ€§åˆ†æ”¯</div><div class="line"></div><div class="line">git branch -d feature åˆ é™¤ç‰¹æ€§åˆ†æ”¯</div></pre></td></tr></table></figure></p>
<p>git push æäº¤ä»£ç </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">æäº¤ä»£ç åˆ°ä»£ç ä»“åº“    </div><div class="line">git push [ master ]  origin</div></pre></td></tr></table></figure>
</code></pre><p>git pull æ›´æ–°ä»£ç <br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git pull origin master</div><div class="line">ä¸Šè¿°å‘½ä»¤å…¶å®ç›¸å½“äºgit fetch å’Œ git merge</div><div class="line">git pull ä¼šè‡ªåŠ¨æŠŠorigin masterä¸­çš„ä»£ç ï¼Œpullä¸‹æ¥å¹¶mergeåˆ°æœ¬åœ°åˆ†æ”¯ä¸­</div></pre></td></tr></table></figure></p>
<p>git fetch </p>
<pre><code>git fetch origin master
ç›¸å½“äºæ˜¯ä»è¿œç¨‹è·å–æœ€æ–°ç‰ˆæœ¬åˆ°æœ¬åœ°ï¼Œä¸ä¼šè‡ªåŠ¨merge

æ“ä½œï¼š
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git fetch origin master</div><div class="line">git log -p master..origin/master</div><div class="line">git merge origin/master</div></pre></td></tr></table></figure>
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/27/è£…é¥°å™¨/" itemprop="url">
                  è£…é¥°å™¨å°å™
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-06-27T17:03:10+08:00" content="2016-06-27">
              2016-06-27
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>ä»€ä¹ˆæ˜¯è£…é¥°å™¨ï¼Ÿ</p>
</blockquote>
<p>é¦–å…ˆï¼Œè£…é¥°å™¨ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼ï¼ï¼ï¼</p>
<p>åœ¨pythonä¸­ï¼Œè¿™ç§å‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯å‡½æ•°è€Œå·²ï¼Œè¿”å›æ˜¯ä¸€ä¸ªæ²¡æœ‰å®ä¾‹è¯çš„å‡½æ•°.</p>
<p>ä»–å®ä¾‹è¯çš„æ—¶å€™éœ€è¦æ¥æ”¶ä¸€ä¸ªfunciton</p>
<p>å°±å¥½æ¯”æœ‰ä¸€ä¸ªå‡½æ•° functionï¼Œæœ‰ä¸€ä¸ªè£…é¥°å™¨deco</p>
<p>å¼€å§‹è£…é¥°å•¦ï¼ï¼ï¼<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">func ï¼function()</div><div class="line">decofunc = deco(func)</div></pre></td></tr></table></figure></p>
<p>ç”¨çš„æ—¶å€™è¿™é‡Œçš„functionè¦æ˜¯å®ä¾‹åŒ–ä¹‹åçš„å“¦ï¼Œä¹Ÿå°±æ˜¯function()</p>
<p>å“ˆå“ˆï¼Œï¼Œæ˜¯ä¸æ˜¯å’Œå¹³æ—¶ç”¨çš„ä¸å¤ªä¸€æ ·,ä¸‹é¢ç»™å¤§å®¶çœ‹çœ‹å¸¸ç”¨çš„ç”¨æ³•ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯æ›´pythonicä¸€ç‚¹å•¦</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@deco</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">function</span><span class="params">()</span>:</span><span class="keyword">pass</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">     <span class="string">'''</span></div><div class="line">        ç”¨çš„æ—¶å€™ç›´æ¥ä½¿ç”¨å°±å¥½å•¦ â€¦â€¦^_^</div><div class="line">     '''</div><div class="line">     function()</div></pre></td></tr></table></figure>
<p>ä¸‹é¢æœ‰å‡ ç§å®ç”¨çš„åœºæ™¯</p>
<blockquote>
<p>ä¸å¸¦å‚æ•°çš„è£…é¥°å™¨(æ™®é€šè£…é¥°å™¨)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco</span><span class="params">(func)</span>:</span></div><div class="line"></div><div class="line">     <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*a,**kw)</span>:</span></div><div class="line"></div><div class="line">     <span class="string">'''</span></div><div class="line"></div><div class="line">     è¿™é‡Œè½¬å…¥çš„å°±æ˜¯å‡½æ•°çš„å‚æ•°å•¦</div><div class="line"></div><div class="line">     @éœ€è¦åœ¨å†…éƒ¨ä¼ å…¥å‚æ•°</div><div class="line"></div><div class="line">     '''</div><div class="line"></div><div class="line">          <span class="keyword">print</span> <span class="string">"wa.....,we put the %s into the box "</span>%func.__name__</div><div class="line"></div><div class="line">          result = func(*a,**kw)</div><div class="line"></div><div class="line">         <span class="keyword">return</span> result</div><div class="line"></div><div class="line">    <span class="keyword">return</span> wrapper</div></pre></td></tr></table></figure>
<blockquote>
<p>å½“ç„¶æˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦ç»™è£…é¥°å™¨å¸¦ç‚¹å‚æ•°</p>
</blockquote>
<p>è¿™ç§åœºæ™¯è¿˜æ˜¯ç”¨çš„æ¯”è¾ƒå¤šçš„ï¼Œå°±å¥½æ¯”æ˜¯åœ¨è§‚å¯Ÿè€…æ¨¡å¼é‡Œé¢ï¼Œä¸€ä¸ªregisteréœ€è¦æ¥æ”¶ä¸€ä¸ªpostofficeçš„å®ä¾‹ï¼Œé‚£ä¹ˆå¦‚æœæ¯æ¬¡éƒ½æˆ‘è¦åœ¨ç¨‹åºé‡Œé¢å»æ›´æ”¹æˆ‘ä»¬çš„postofficeï¼Œé‚£å°±ç›¸å½“çš„éº»çƒ¦äº†ï¼Œæ‰€ä»¥é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å˜æ›´postofficeï¼Œæˆ‘ä»¬åªéœ€è¦æ˜¯å®ä¾‹åŒ–æ³¨å†Œè€…å°±å¯ä»¥äº†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">from</span> functions  <span class="keyword">import</span>  wraps</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">register_deco</span><span class="params">(postoffice)</span>:</span></div><div class="line"></div><div class="line">    <span class="string">'''</span></div><div class="line"></div><div class="line">         @postoffice:éœ€è¦æ¥å—ä¸€ä¸ªå®ä¾‹è¯çš„è§‚å¯Ÿè€…å¯¹è±¡</div><div class="line"></div><div class="line">    '''</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deco</span><span class="params">(register)</span>:</span> </div><div class="line"></div><div class="line"><span class="meta">        @wraps(*a,**kw):</span></div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*a,**kw)</span>:</span></div><div class="line"></div><div class="line">             result = func(postoffice)</div><div class="line"></div><div class="line">             <span class="keyword">return</span> result</div><div class="line"></div><div class="line">         <span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line">     <span class="keyword">return</span> deco</div></pre></td></tr></table></figure>
<p>ä»€ä¹ˆä½ è¿˜æƒ³è¦è®¾ç½®é»˜è®¤å€¼ï¼Œå½“ç„¶ä¹Ÿæ˜¯å¯ä»¥çš„</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> functions <span class="keyword">import</span> partial</div></pre></td></tr></table></figure>
<p>å°±æ˜¯è¿™ä¸ªæ¨¡å—äº†ï¼Œæ–¹ä¾¿è®¾ç½®ä¸€ä¸ªå¸¦é»˜è®¤å€¼çš„è£…é¥°å™¨ï¼Œè¿™å°±å¯ä»¥ç›´æ¥æ·»åŠ äº†^_^ï¼Œpostofficeæ˜¯è§‚å¯Ÿè€…çš„ä¸€ä¸ªå®ä¾‹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">postinst = Postoffice()</div><div class="line">default_post = partial(register_deco,Postinst)</div></pre></td></tr></table></figure>
<blockquote>
<p>ç”¨ä¸€ä¸‹</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="meta">@deco</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(*a,**kw)</span>:</span></div><div class="line"></div><div class="line">      <span class="keyword">print</span> a</div><div class="line"></div><div class="line">      <span class="keyword">print</span> kw</div><div class="line"></div><div class="line">      <span class="keyword">print</span> <span class="string">"i am a test program"</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line"></div><div class="line">         func()</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/15/æœ‰åºåˆ—è¡¨æ’åº/" itemprop="url">
                  ç®—æ³•ç»ƒä¹ --æœ‰åºåˆ—è¡¨åˆå¹¶å’Œæ— åºåˆ—è¡¨åˆå¹¶
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-06-15T00:00:00+08:00" content="2016-06-15">
              2016-06-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/pythonç®—æ³•/" itemprop="url" rel="index">
                    <span itemprop="name">pythonç®—æ³•</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="æœ‰åºåˆ—è¡¨åˆå¹¶"><a href="#æœ‰åºåˆ—è¡¨åˆå¹¶" class="headerlink" title="æœ‰åºåˆ—è¡¨åˆå¹¶"></a>æœ‰åºåˆ—è¡¨åˆå¹¶</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="string">'''</span></div><div class="line">File Name: test.py</div><div class="line">Author: liangyou.qiao</div><div class="line">mail: liangyou.qiao@shuyun.com</div><div class="line">Created Time: ä¸‰  6/15 08:13:55 2016</div><div class="line"></div><div class="line">'''</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(l1,l2)</span>:</span></div><div class="line">    lis = []</div><div class="line"></div><div class="line">    <span class="keyword">while</span> len(l1) &gt; <span class="number">0</span> <span class="keyword">and</span>  len(l2) &gt;<span class="number">0</span>:</div><div class="line"></div><div class="line">        <span class="keyword">if</span> l1[<span class="number">0</span>] &gt; l2[<span class="number">0</span>]:</div><div class="line">            lis.append(l2[<span class="number">0</span>])</div><div class="line">            <span class="keyword">del</span>(l2[<span class="number">0</span>])</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            lis.append(l1[<span class="number">0</span>])</div><div class="line">            <span class="keyword">del</span>(l1[<span class="number">0</span>])</div><div class="line"></div><div class="line">    lis.extend(l1)</div><div class="line">    lis.extend(l2)</div><div class="line"></div><div class="line">    <span class="keyword">return</span> lis</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">lis_1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">23</span>,<span class="number">233</span>,<span class="number">2231</span>]</div><div class="line"></div><div class="line">lis_2 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">223</span>,<span class="number">333</span>,<span class="number">444</span>,<span class="number">555</span>,<span class="number">556</span>]</div><div class="line"></div><div class="line"><span class="keyword">print</span> merge(lis_1,lis_2)</div></pre></td></tr></table></figure>
<h2 id="å…³äºæ— åºåˆ—è¡¨åˆè¿›è¡Œæœ‰åºåˆå¹¶"><a href="#å…³äºæ— åºåˆ—è¡¨åˆè¿›è¡Œæœ‰åºåˆå¹¶" class="headerlink" title="å…³äºæ— åºåˆ—è¡¨åˆè¿›è¡Œæœ‰åºåˆå¹¶"></a>å…³äºæ— åºåˆ—è¡¨åˆè¿›è¡Œæœ‰åºåˆå¹¶</h2><p>æƒ³åˆ°çš„æ–¹æ¡ˆï¼Œåªæœ‰å…ˆå»æ’åºï¼Œåœ¨åˆå¹¶</p>
<p>ä¹‹å‰æƒ³åˆ°ä¸€ç§æ–¹æ¡ˆ,å°±æ˜¯ä½¿ç”¨æœ€å°å †å»åšï¼Œä½†æ˜¯æ²¡æœ‰æˆåŠŸï¼Œä»£ç ä¹Ÿè´´å‡º</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="string">'''</span></div><div class="line">File Name: æ— åºåˆ—è¡¨åˆå¹¶.py</div><div class="line">Author: liangyou.qiao</div><div class="line">mail: liangyou.qiao@shuyun.com</div><div class="line">Created Time: ä¸‰  6/15 08:46:54 2016</div><div class="line">'''</div><div class="line"></div><div class="line"></div><div class="line"><span class="string">'''</span></div><div class="line">    æœ‰å¾…è€ƒè¯ï¼Œä¸æˆç«‹</div><div class="line">'''</div><div class="line"></div><div class="line"></div><div class="line">lis_1 = [<span class="number">2</span>,<span class="number">33</span>,<span class="number">2</span>,<span class="number">111</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">55</span>,<span class="number">222</span>,<span class="number">2223</span>,<span class="number">33</span>]</div><div class="line">lis_2 = [<span class="number">10</span>,<span class="number">22</span>,<span class="number">11</span>,<span class="number">23</span>,<span class="number">44</span>,<span class="number">556</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">11</span>,<span class="number">222</span>,<span class="number">333</span>]</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">import</span> heapq</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">no_merge</span><span class="params">(lis_1,lis_2)</span>:</span></div><div class="line"></div><div class="line">    heapq.heapify(lis_1)</div><div class="line">    heapq.heapify(lis_2)</div><div class="line">    lis = []</div><div class="line">    <span class="keyword">while</span> len(lis_1) &gt; <span class="number">0</span> <span class="keyword">and</span> len(lis_2) &gt; <span class="number">0</span>:</div><div class="line"></div><div class="line">        <span class="keyword">if</span> lis_1[<span class="number">0</span>] &gt; lis_2[<span class="number">0</span>]:</div><div class="line">            num = heapq.heappop(lis_2)</div><div class="line">            lis.append(num)</div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            num = heapq.heappop(lis_1)</div><div class="line">            lis.append(num)</div><div class="line"></div><div class="line">    <span class="keyword">if</span> len(lis_1) &gt;<span class="number">0</span>:</div><div class="line">        lis+ sorted(lis_2)</div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">if</span> len(lis_2) &gt;<span class="number">0</span>:</div><div class="line">        lis + sorted(lis_2)</div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">return</span> lis</div><div class="line"></div><div class="line"><span class="keyword">print</span> no_merge(lis_1,lis_2)</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/19/pic/" itemprop="url">
                  pythonå°å·¥å…·å›¾ç‰‡å­—ç¬¦ä¸²è½¬åŒ–
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-19T00:00:00+08:00" content="2016-05-19">
              2016-05-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/pythonå°å·¥å…·/" itemprop="url" rel="index">
                    <span itemprop="name">pythonå°å·¥å…·</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<h1 id="pythonå°å·¥å…·å›¾ç‰‡å­—ç¬¦ä¸²è½¬åŒ–"><a href="#pythonå°å·¥å…·å›¾ç‰‡å­—ç¬¦ä¸²è½¬åŒ–" class="headerlink" title="pythonå°å·¥å…·å›¾ç‰‡å­—ç¬¦ä¸²è½¬åŒ–"></a>pythonå°å·¥å…·å›¾ç‰‡å­—ç¬¦ä¸²è½¬åŒ–</h1><blockquote>
<p>å†™åœ¨å‰é¢</p>
</blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªpythonå°†æ–‡ä»¶è½¬åŒ–æˆå­—ç¬¦ä¸²çš„å°å·¥å…·ï¼Œä¸è¿‡è§£æçš„è´¨é‡æ¯”è¾ƒå·®ï¼Œæ˜¯æ ¹æ®åƒç´ ï¼Œæ¥å¡«å……å­—ç¬¦çš„</p>
<blockquote>
<p>è¿™é‡Œæ˜¯ä»£ç </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line">    <span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="string">'''</span></div><div class="line">File Name: picpy.py</div><div class="line">Author: liangyou.qiao</div><div class="line">mail: liangyou.qiao@shuyun.com</div><div class="line">Created Time: å››  5/19 10:25:59 2016</div><div class="line">'''</div><div class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</div><div class="line">ASCII_CHARS = [ <span class="string">'#'</span>, <span class="string">'?'</span>, <span class="string">'%'</span>, <span class="string">'.'</span>, <span class="string">'S'</span>, <span class="string">'+'</span>, <span class="string">'.'</span>, <span class="string">'*'</span>, <span class="string">':'</span>, <span class="string">','</span>, <span class="string">'@'</span>]</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">scale_image</span><span class="params">(image, new_width=<span class="number">50</span>)</span>:</span></div><div class="line">    (original_width, original_height) = image.size</div><div class="line">    aspect_ratio = original_height/float(original_width)</div><div class="line">    new_height = int(aspect_ratio * new_width)</div><div class="line">    new_image = image.resize((new_width, new_height))</div><div class="line">    <span class="keyword">return</span> new_image</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">convert_to_grayscale</span><span class="params">(image)</span>:</span></div><div class="line">    <span class="keyword">return</span> image.convert(<span class="string">'L'</span>)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">map_pixels_to_ascii_chars</span><span class="params">(image, range_width=<span class="number">50</span>)</span>:</span></div><div class="line">    pixels_in_image = list(image.getdata())</div><div class="line">    pixels_to_chars = [ASCII_CHARS[pixel_value/range_width] <span class="keyword">for</span> pixel_value <span class="keyword">in</span></div><div class="line">    pixels_in_image]</div><div class="line">    <span class="keyword">return</span> <span class="string">""</span>.join(pixels_to_chars)</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">convert_image_to_ascii</span><span class="params">(image, new_width=<span class="number">50</span>)</span>:</span></div><div class="line">    image = scale_image(image)</div><div class="line">    image = convert_to_grayscale(image)</div><div class="line">    pixels_to_chars = map_pixels_to_ascii_chars(image)</div><div class="line">    len_pixels_to_chars = len(pixels_to_chars)</div><div class="line">    image_ascii = [pixels_to_chars[index: index + new_width] <span class="keyword">for</span> index <span class="keyword">in</span></div><div class="line">    xrange(<span class="number">0</span>, len_pixels_to_chars, new_width)]</div><div class="line">    <span class="keyword">return</span> <span class="string">"\n"</span>.join(image_ascii)</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">handle_image_conversion</span><span class="params">(image_filepath)</span>:</span></div><div class="line">    image = <span class="keyword">None</span></div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        image = Image.open(image_filepath)</div><div class="line">    <span class="keyword">except</span> Exception, e:</div><div class="line">        <span class="keyword">print</span> <span class="string">"Unable to open image file &#123;image_filepath&#125;."</span>.format(image_filepath=image_filepath)</div><div class="line">        <span class="keyword">print</span> e</div><div class="line">        <span class="keyword">return</span></div><div class="line"></div><div class="line">    image_ascii = convert_image_to_ascii(image)</div><div class="line">    <span class="keyword">print</span> image_ascii</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</div><div class="line">    <span class="keyword">import</span> sys</div><div class="line">    image_file_path = sys.argv[<span class="number">1</span>]</div><div class="line">    handle_image_conversion(image_file_path)</div></pre></td></tr></table></figure>
<blockquote>
<p>çœ‹çœ‹</p>
</blockquote>
<iframe height="300" width="300" src="http://7xsx86.com1.z0.glb.clouddn.com/pic.gif">

</iframe>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/01/è§‚å¯Ÿè€…æ¨¡å¼/" itemprop="url">
                  pythonçŸ¥è¯†ç§¯ç´¯ä¸æç‚¼ï¼ˆè®¾è®¡æ¨¡å¼ï¼‰ï¼ï¼ï¼è§‚å¯Ÿè€…æ¨¡å¼
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-01T00:00:00+08:00" content="2016-05-01">
              2016-05-01
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/pythonçŸ¥è¯†ç§¯ç´¯ä¸æç‚¼/" itemprop="url" rel="index">
                    <span itemprop="name">pythonçŸ¥è¯†ç§¯ç´¯ä¸æç‚¼</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ</p>
</blockquote>
<p>æ‘˜å–è‡ª<a href="http://baike.baidu.com/link?url=YxrJafvBy80ImMJqNEz1PqezLhzpe1bNNxikYe8GQt-EluyQByTnbEVK9Mya1_6aMJFsGmrBhsRCZhN99okWSq" target="_blank" rel="external">ç™¾åº¦ç™¾ç§‘</a>:<br>è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆæœ‰æ—¶åˆè¢«ç§°ä¸ºå‘å¸ƒï¼ˆpublish ï¼‰-è®¢é˜…ï¼ˆSubscribeï¼‰æ¨¡å¼ã€æ¨¡å‹-è§†å›¾ï¼ˆViewï¼‰æ¨¡å¼ã€æº-æ”¶å¬è€…(Listener)æ¨¡å¼æˆ–ä»å±è€…æ¨¡å¼ï¼‰æ˜¯è½¯ä»¶è®¾è®¡æ¨¡å¼çš„ä¸€ç§ã€‚åœ¨æ­¤ç§æ¨¡å¼ä¸­ï¼Œä¸€ä¸ªç›®æ ‡ç‰©ä»¶ç®¡ç†æ‰€æœ‰ç›¸ä¾äºå®ƒçš„è§‚å¯Ÿè€…ç‰©ä»¶ï¼Œå¹¶ä¸”åœ¨å®ƒæœ¬èº«çš„çŠ¶æ€æ”¹å˜æ—¶ä¸»åŠ¨å‘å‡ºé€šçŸ¥ã€‚è¿™é€šå¸¸é€è¿‡å‘¼å«å„è§‚å¯Ÿè€…æ‰€æä¾›çš„æ–¹æ³•æ¥å®ç°ã€‚æ­¤ç§æ¨¡å¼é€šå¸¸è¢«ç”¨æ¥å®ç°äº‹ä»¶å¤„ç†ç³»ç»Ÿã€‚</p>
<p><strong>è§‚å¯Ÿè€…</strong><br>ï¼ˆObserverï¼‰å°†è‡ªå·±æ³¨å†Œåˆ°è¢«è§‚å¯Ÿå¯¹è±¡ï¼ˆSubjectï¼‰ä¸­ï¼Œè¢«è§‚å¯Ÿå¯¹è±¡å°†è§‚å¯Ÿè€…å­˜æ”¾åœ¨ä¸€ä¸ªå®¹å™¨ï¼ˆContainerï¼‰é‡Œã€‚<br><strong>è¢«è§‚å¯Ÿ</strong><br>è¢«è§‚å¯Ÿå¯¹è±¡å‘ç”Ÿäº†æŸç§å˜åŒ–ï¼ˆå¦‚å›¾ä¸­çš„SomeChangeï¼‰ï¼Œä»å®¹å™¨ä¸­å¾—åˆ°æ‰€æœ‰æ³¨å†Œè¿‡çš„è§‚å¯Ÿè€…ï¼Œå°†å˜åŒ–é€šçŸ¥è§‚å¯Ÿè€…ã€‚</p>
<p><strong>æ’¤é”€è§‚å¯Ÿ</strong><br>è§‚å¯Ÿè€…å‘Šè¯‰è¢«è§‚å¯Ÿè€…è¦æ’¤é”€è§‚å¯Ÿï¼Œè¢«è§‚å¯Ÿè€…ä»å®¹å™¨ä¸­å°†è§‚å¯Ÿè€…å»é™¤ã€‚</p>
<blockquote>
<p>å¼€å§‹è®¾è®¡</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Observer</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="string">'''</span></div><div class="line">    è¢«è§‚å¯Ÿè€…æŠ½è±¡ç±»</div><div class="line">    '''</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(self,Subscription)</span>:</span></div><div class="line">    <span class="string">'''</span></div><div class="line">    è¢«è§‚å¯Ÿè€…æä¾›çš„æ›´æ–°æ¥å£</div><div class="line">    '''</div><div class="line">        <span class="keyword">return</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">send_content</span><span class="params">(self)</span>:</span></div><div class="line">    <span class="string">'''</span></div><div class="line">    è·å–æ–°çš„æ•°æ®</div><div class="line">    '''</div><div class="line">        <span class="keyword">return</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Subject</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="string">'''</span></div><div class="line">    è§‚å¯Ÿè€…æŠ½è±¡ç±»	</div><div class="line">    '''</div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">registerObserver</span><span class="params">(self, observer)</span>:</span></div><div class="line">    <span class="string">'''</span></div><div class="line">    è¢«è§‚å¯Ÿè€…çš„æ³¨å†Œæ¥å£</div><div class="line">    '''</div><div class="line">        </div><div class="line">        <span class="keyword">return</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeObserver</span><span class="params">(self, observer)</span>:</span></div><div class="line">    <span class="string">'''</span></div><div class="line">    ç§»é™¤è¢«è§‚å¯Ÿè€…</div><div class="line">    '''</div><div class="line">        <span class="keyword">return</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">notifyObservers</span><span class="params">(self)</span>:</span></div><div class="line">    <span class="string">'''</span></div><div class="line">    é€šçŸ¥è§‚å¯Ÿè€…</div><div class="line">    '''</div><div class="line">        <span class="keyword">return</span></div></pre></td></tr></table></figure>
<blockquote>
<p>å¼€å§‹ç»§æ‰¿</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostOffice</span><span class="params">(Subject)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        self.observers = []</div><div class="line"></div><div class="line">        self.Subscription = <span class="keyword">None</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">registerObserver</span><span class="params">(self,observer)</span>:</span></div><div class="line">        <span class="string">'''</span></div><div class="line">        æ·»åŠ æ³¨å†Œè€…</div><div class="line">        '''</div><div class="line">        self.observers.append(observer)</div><div class="line">        <span class="keyword">return</span> <span class="keyword">None</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">removeObserver</span><span class="params">(self,observer)</span>:</span></div><div class="line">        <span class="string">'''</span></div><div class="line">        åˆ é™¤æ³¨å†Œè€…</div><div class="line">        '''</div><div class="line">        self.observers.remove(observer)</div><div class="line">        <span class="keyword">return</span> <span class="keyword">None</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">notifyObserver</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="string">'''</span></div><div class="line">        æ›´æ–°æ‰€æœ‰æ³¨å†Œè€…</div><div class="line">        '''</div><div class="line">        <span class="keyword">for</span> observer <span class="keyword">in</span> self.observers:</div><div class="line">            observer.update(self.Subscription)</div><div class="line">        <span class="keyword">return</span> <span class="keyword">None</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">UpdateAllObserver</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="string">'''</span></div><div class="line">        æ‰§è¡Œæ›´æ–°</div><div class="line">        '''</div><div class="line">        self.notifyObserver()</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setSubscription</span><span class="params">(self,Subscription)</span>:</span></div><div class="line">        <span class="string">'''</span></div><div class="line">        æ¨é€</div><div class="line">        '''</div><div class="line">        self.Subscription = Subscription</div><div class="line">        self.UpdateAllObserver()</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">SH_Publish</span><span class="params">(Observer)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,PostOffice)</span>:</span></div><div class="line"></div><div class="line">        self.PostOffice = PostOffice</div><div class="line">        self.Subscription = <span class="keyword">None</span></div><div class="line">        PostOffice.registerObserver(self)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(self,Subscription)</span>:</span></div><div class="line">        self.Subscription = Subscription</div><div class="line">        self.send_content()</div><div class="line">        <span class="keyword">return</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">send_content</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.Subscription <span class="keyword">is</span> <span class="keyword">None</span>:</div><div class="line">            <span class="keyword">print</span> <span class="string">"Shanghai Publishing have no Subscription send to you"</span></div><div class="line">            <span class="keyword">return</span> <span class="keyword">None</span></div><div class="line">        <span class="keyword">print</span> <span class="string">"this is Shanghai Pubishing ï¼Œwe will send the %s to you at 2 days"</span>%self.Subscription</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bj_Publish</span><span class="params">(Observer)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,PostOffice)</span>:</span></div><div class="line"></div><div class="line">        self.PostOffice = PostOffice</div><div class="line">        self.Subscription = <span class="keyword">None</span></div><div class="line">        PostOffice.registerObserver(self)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(self,Subscription)</span>:</span></div><div class="line">        self.Subscription = Subscription</div><div class="line">        self.send_content()</div><div class="line">        <span class="keyword">return</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">send_content</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.Subscription <span class="keyword">is</span> <span class="keyword">None</span>:</div><div class="line">            <span class="keyword">print</span> <span class="string">"Beijing Publishing have no Subscription send to you"</span></div><div class="line">            <span class="keyword">return</span> <span class="keyword">None</span></div><div class="line">        <span class="keyword">print</span> <span class="string">"this is BeiJing Pubishing ï¼Œwe will send the %s to you at 3 days"</span>%self.Subscription</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">client</span><span class="params">()</span>:</span></div><div class="line"></div><div class="line">    Post = PostOffice()</div><div class="line">    sh = SH_Publish(Post)</div><div class="line">    <span class="keyword">print</span> <span class="string">"-----1-----"</span></div><div class="line">    sh.send_content()</div><div class="line">    <span class="keyword">print</span> <span class="string">"-----2-----"</span></div><div class="line">    Post.setSubscription(<span class="string">"litte red girl cookbook"</span>)</div><div class="line">    <span class="keyword">print</span> <span class="string">"ä¸Šæµ·:"</span>,sh.Subscription</div><div class="line">    bj = Bj_Publish(Post)</div><div class="line">    <span class="keyword">print</span> <span class="string">"-----3-----"</span></div><div class="line">    Post.setSubscription(<span class="string">"The Harry Potter "</span>)</div><div class="line">    <span class="keyword">print</span> <span class="string">"ä¸Šæµ·:"</span>,sh.Subscription</div><div class="line">    <span class="keyword">print</span> <span class="string">"åŒ—äº¬:"</span>,bj.Subscription</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">	client()</div></pre></td></tr></table></figure>
<blockquote>
<p>é—®é¢˜ä¹Ÿæ¥äº†</p>
</blockquote>
<pre><code>è¢«è§‚å¯Ÿè€…çš„å¯¹è±¡åœ¨æ³¨å†Œåˆ°è§‚å¯Ÿè€…çš„å®ä¾‹çš„ä¸Šé¢çš„æ—¶å€™ï¼Œå¦‚æœéœ€è¦é‡æ–°å®šä¹‰ä¸€ä¸ªç»§æ‰¿ä¸è§‚å¯Ÿè€…æŠ½è±¡ç±»çš„å¦ä¸€ä¸ªå­ç±»çš„æ—¶å€™ï¼Œå°±éœ€è¦æ›´æ”¹ä»£ç äº†,è¿™ä¸ªå·¥ä½œé‡æ˜¯å¾ˆå¤§çš„ï¼Œå¦‚æœæ–¹ä¾¿å¿«æ·çš„æ›´æ”¹è§‚å¯Ÿè€…å‘¢ï¼Ÿ
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/28/pythonçš„ä¸€ä¸ªå¥½ç”¨çš„åŠ colorå°å·¥å…·/" itemprop="url">
                  pythonçš„ä¸€ä¸ªå¥½ç”¨çš„åŠ colorå°å·¥å…·
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-03-28T00:00:00+08:00" content="2016-03-28">
              2016-03-28
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/å°å·¥å…·/" itemprop="url" rel="index">
                    <span itemprop="name">å°å·¥å…·</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#pythonçš„ä¸€ä¸ªå¥½ç”¨çš„åŠ colorå°å·¥å…·</p>
<p><strong>æˆ‘æƒ³ç»™æˆ‘æƒ³è¦çš„æ–‡æœ¬åŠ ä¸Šé¢œè‰²ï¼Œæ€ä¹ˆæ‰èƒ½æ–¹ä¾¿ä¸€ç‚¹å‘¢</strong></p>
<blockquote>
<p>å…ˆçœ‹ä¸‹æ€ä¹ˆåŠ é¢œè‰²</p>
</blockquote>
<table>
<thead>
<tr>
<th>å­—èƒŒæ™¯é¢œè‰²code</th>
<th>é¢œè‰²</th>
<th>å­—é¢œè‰²code</th>
<th>é¢œè‰²ï½œ</th>
</tr>
</thead>
<tbody>
<tr>
<td>40</td>
<td>é»‘</td>
<td>30</td>
<td>é»‘</td>
</tr>
<tr>
<td>41</td>
<td>æ·±çº¢</td>
<td>31</td>
<td>æ·±çº¢</td>
</tr>
<tr>
<td>42</td>
<td>ç»¿</td>
<td>32</td>
<td>ç»¿</td>
</tr>
<tr>
<td>43</td>
<td>é»„è‰²</td>
<td>33</td>
<td>é»„è‰²</td>
</tr>
<tr>
<td>44</td>
<td>è“è‰²</td>
<td>34</td>
<td>è“è‰²</td>
</tr>
<tr>
<td>45</td>
<td>ç´«è‰²</td>
<td>35</td>
<td>ç´«è‰²</td>
</tr>
<tr>
<td>46</td>
<td>æ·±ç»¿</td>
<td>46</td>
<td>æ·±ç»¿</td>
</tr>
<tr>
<td>47</td>
<td>ç™½è‰²</td>
<td>37</td>
<td>ç™½è‰²</td>
</tr>
</tbody>
</table>
<blockquote>
<p>pythonä¸­å¦‚ä½•æ·»åŠ é¢œè‰²ï¼Ÿ</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">text = <span class="string">'\033[&#123;color_num&#125;m\&#123;text&#125;033[0m'</span>.format(color_num=color_num,text=content)</div></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦åˆ›å»ºä¸€ä¸ªé¢œè‰²çš„å®ä¾‹</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"># -*- coding: utf-8 -*-</div><div class="line">import random</div><div class="line">import time</div><div class="line"></div><div class="line"></div><div class="line">def color(code):</div><div class="line">    '''</div><div class="line">    :type:code:é¢œè‰²çš„ä»£ç å·</div><div class="line">    :rtype:æ²¡æœ‰è°ƒç”¨__call__çš„å‡½æ•°</div><div class="line">    '''</div><div class="line">    code = str(code)</div><div class="line">    def inner(text):</div><div class="line">	    """</div><div class="line">	    :type:text:è¾“å…¥çš„æ–‡æœ¬</div><div class="line">	    rtype:st:è¿”å›åŠ ä¸Šä»£ç çš„æ–‡æœ¬	    </div><div class="line">	    """</div><div class="line">	    if not isinstance(text,str):</div><div class="line">            text = str(str)</div><div class="line">        head = '\033[%sm'%code'</div><div class="line">        end = '\033[0m'</div><div class="line">        st = head + text + end</div><div class="line">        return st</div><div class="line">    return inner</div><div class="line"></div><div class="line">red = color(45)</div><div class="line">green = color(41)</div><div class="line"></div><div class="line">print red("this is text")</div></pre></td></tr></table></figure>
<blockquote>
<p>å½“ç„¶è¿˜æ˜¯å¯ä»¥æ›´å¿«å¥½ç”¨ä¸€ç‚¹çš„ï¼Œä½¿ç”¨è£…é¥°å™¨å°±å¯ä»¥å¿«é€Ÿçš„å®Œæˆè°ƒç”¨</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">with_color_message</span><span class="params">(color_function)</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(function)</span>:</span></div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">def</span> <span class="title">deco</span><span class="params">(*args,**kwargs)</span>:</span></div><div class="line"></div><div class="line">            output = function(*args,**kwargs)</div><div class="line">            <span class="keyword">return</span> color_function(output)</div><div class="line">        <span class="keyword">return</span> deco</div><div class="line"></div><div class="line">    <span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"><span class="meta">@with_color_message(green)</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">out</span><span class="params">(content)</span>:</span></div><div class="line">    <span class="keyword">return</span> content</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>: </div><div class="line">    <span class="keyword">print</span> out(<span class="string">"this is text"</span>)</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Joe." />
          <p class="site-author-name" itemprop="name">Joe.</p>
          <p class="site-description motion-element" itemprop="description">è¿™ä¸–ç•Œè¦æ˜¯æ²¡æœ‰çˆ±æƒ…ï¼Œå®ƒåœ¨æˆ‘ä»¬å¿ƒä¸­è¿˜ä¼šæœ‰ä»€ä¹ˆæ„ä¹‰ï¼è¿™å°±å¦‚ä¸€ç›æ²¡æœ‰äº®å…‰çš„èµ°é©¬ç¯ã€‚</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">15</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Joe.</span>
</div>

<div class="powered-by">
  ç”± <a class="theme-link" href="http://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
